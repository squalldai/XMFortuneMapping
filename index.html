<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>Âä†Ëß£ÂØÜÂ∑•ÂÖ∑ 3.2</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f4f4f9;
            margin: 0;
            padding: 0;
        }
        header {
            background: #333;
            color: #fff;
            padding: 10px;
            text-align: center;
        }
        .container {
            max-width: 700px;
            margin: 20px auto;
            padding: 20px;
            background: #fff;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        .section {
            margin-bottom: 20px;
        }
        .section label {
            font-weight: bold;
            display: block;
            margin-bottom: 8px;
        }
        .section input {
            padding: 8px;
            width: 95%;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .radio-group {
            margin: 10px 0;
        }
        .radio-group label {
            margin-right: 20px;
        }
        .button {
            display: inline-block;
            padding: 10px 16px;
            background: #007BFF;
            color: #fff;
            border-radius: 4px;
            cursor: pointer;
            border: none;
        }
        .button.decrypt {
            background: #FF9800;
        }
        .output {
            background: #f0f0f0;
            padding: 10px;
            border-radius: 6px;
            font-family: monospace;
            margin-top: 10px;
        }
        .log {
            max-height: 200px;
            overflow-y: auto;
            background: #222;
            color: #0f0;
            font-family: monospace;
            font-size: 12px;
            padding: 10px;
            border-radius: 6px;
        }
    </style>
</head>
<body>
<header>
    <h1>Âä†Ëß£ÂØÜÂ∑•ÂÖ∑ 3.2</h1>
</header>
<div class="container">
    <div class="section">
        <label>Ê®°ÂºèÈÄâÊã©</label>
        <div class="radio-group">
            <label><input type="radio" name="mode" value="adm" checked> ADM</label>
            <label><input type="radio" name="mode" value="sensient"> Ê£ÆÈ¶®</label>
        </div>
    </div>

    <div class="section">
        <label>Êìç‰ΩúÈÄâÊã©</label>
        <div class="radio-group">
            <label><input type="radio" name="operation" value="encrypt" checked> Âä†ÂØÜ</label>
            <label><input type="radio" name="operation" value="decrypt"> Ëß£ÂØÜ</label>
        </div>
    </div>

    <div class="section" id="input-section">
        <label>ËæìÂÖ•</label>
        <input type="text" id="input-left" placeholder="Â∑¶‰æßËæìÂÖ•">
        <input type="text" id="input-right" placeholder="Âè≥‰æßËæìÂÖ•">
    </div>

    <div class="section">
        <button id="action-button" class="button">ÊâßË°å</button>
    </div>

    <div class="section">
        <label>ËæìÂá∫</label>
        <div id="output" class="output"></div>
    </div>

    <div class="section">
        <label>Êìç‰ΩúÊó•Âøó</label>
        <div id="log" class="log"></div>
    </div>
</div>

<script src="ADM.js"></script>
<script src="SENSIENT.js"></script>
<script>
    const modeRadios = document.getElementsByName("mode");
    const operationRadios = document.getElementsByName("operation");
    const inputLeft = document.getElementById("input-left");
    const inputRight = document.getElementById("input-right");
    const actionButton = document.getElementById("action-button");
    const outputDiv = document.getElementById("output");
    const logDiv = document.getElementById("log");

    function log(message) {
        const now = new Date();
        const timestamp = now.toLocaleTimeString();
        logDiv.innerHTML = `[${timestamp}] ${message}<br>` + logDiv.innerHTML;
    }

    function updateUI() {
        const mode = document.querySelector('input[name="mode"]:checked').value;
        const operation = document.querySelector('input[name="operation"]:checked').value;

        if (mode === "adm") {
            if (operation === "encrypt") {
                inputLeft.style.display = "inline-block";
                inputLeft.value = "76880800";
                inputLeft.disabled = false;
                inputRight.style.display = "inline-block";
                inputRight.placeholder = "ËæìÂÖ•4‰ΩçÊï∞Â≠ó";
                actionButton.className = "button";
                actionButton.textContent = "Âä†ÂØÜ üîí";
            } else {
                inputLeft.style.display = "inline-block";
                inputLeft.value = "HT-";
                inputLeft.disabled = true;
                inputRight.style.display = "inline-block";
                inputRight.placeholder = "ËæìÂÖ•6‰ΩçÁºñÁ†Å";
                actionButton.className = "button decrypt";
                actionButton.textContent = "Ëß£ÂØÜ üîì";
            }
        } else if (mode === "sensient") {
            if (operation === "encrypt") {
                inputLeft.style.display = "none";
                inputRight.style.display = "inline-block";
                inputRight.placeholder = "ËæìÂÖ•8‰Ωç (2Êï∞Â≠ó+2Â≠óÊØç+4Êï∞Â≠ó)";
                inputRight.value = "";
                actionButton.className = "button";
                actionButton.textContent = "Âä†ÂØÜ üîí";
            } else {
                inputLeft.style.display = "inline-block";
                inputLeft.value = "HT-";
                inputLeft.disabled = true;
                inputRight.style.display = "inline-block";
                inputRight.placeholder = "ËæìÂÖ•6‰ΩçÁºñÁ†Å";
                inputRight.value = "";
                actionButton.className = "button decrypt";
                actionButton.textContent = "Ëß£ÂØÜ üîì";
            }
        }
        outputDiv.textContent = "";
    }

    actionButton.addEventListener("click", () => {
        const mode = document.querySelector('input[name="mode"]:checked').value;
        const operation = document.querySelector('input[name="operation"]:checked').value;

        if (mode === "adm") {
            if (operation === "encrypt") {
                const left = inputLeft.value;
                const right = inputRight.value;
                const result = admEncrypt(left + right);
                outputDiv.textContent = result;
                log(`Êìç‰Ωú:ADM encrypt ËæìÂÖ•:${left}+${right} ‚Üí ËæìÂá∫:${result}`);
            } else {
                const left = inputLeft.value;
                const right = inputRight.value;
                const result = admDecrypt(left + right);
                outputDiv.textContent = result;
                log(`Êìç‰Ωú:ADM decrypt ËæìÂÖ•:${left}+${right} ‚Üí ËæìÂá∫:${result}`);
            }
        } else if (mode === "sensient") {
            if (operation === "encrypt") {
                const input = inputRight.value;
                const result = sensientEncrypt(input);
                outputDiv.textContent = result;
                log(`Êìç‰Ωú:Sensient encrypt ËæìÂÖ•:${input} ‚Üí ËæìÂá∫:${result}`);
            } else {
                const input = inputLeft.value + inputRight.value;
                const result = sensientDecrypt(input);
                outputDiv.textContent = result;
                log(`Êìç‰Ωú:Sensient decrypt ËæìÂÖ•:${input} ‚Üí ËæìÂá∫:${result}`);
            }
        }
    });

    modeRadios.forEach(radio => radio.addEventListener("change", updateUI));
    operationRadios.forEach(radio => radio.addEventListener("change", updateUI));

    updateUI();
</script>
</body>
</html>
